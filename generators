import numpy as np
import random

class GridGenerator:
    def __init__(self, size=3, max_value=4):
        self.size = size
        self.max_value = max_value

    def generate_grid(self, difficult_numbers=None):
        numbers = np.arange(1, self.max_value + 1)
        probabilities = np.ones_like(numbers, dtype=float)

        if difficult_numbers:
            for num in difficult_numbers:
                if 1 <= num <= self.max_value:
                    probabilities[num - 1] += 3  # Increase probability for difficult numbers

        probabilities /= probabilities.sum()
        grid = np.random.choice(numbers, size=(self.size, self.size), p=probabilities)
        return grid
